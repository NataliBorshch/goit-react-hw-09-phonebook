{"version":3,"sources":["redux/auth/auth-operations.js","redux/auth/auth-selectors.js","components/Spiner/Spiner.module.css","redux/contacts/contacts-actions.js","components/AppBar/UserMenu/UserMenu.module.css","redux/auth/auth-actions.js","components/Container/Container.module.css","App.module.css","components/AppBar/AppBar.module.css","redux/contacts/contacts-reducer.js","redux/auth/auth-reducer.js","redux/store.js","routes/routes.js","routes/PrivateRoute.js","routes/PublicRoute.js","components/AppBar/Navigation/Navigation.jsx","components/AppBar/AuthNav/AuthNav.jsx","components/AppBar/UserMenu/UserMenu.jsx","components/AppBar/AppBar.jsx","components/Container/Container.jsx","components/Spiner/Spiner.jsx","App.js","index.js"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","register","accountingData","dispatch","authActions","registerRequest","post","then","data","registerSuccess","catch","error","registerError","message","logIn","loginRequest","loginSuccess","logoutError","logOut","logoutRequest","logoutSuccess","getCurrentUser","getState","persistedToken","auth","getCurrentUserRequest","get","getCurrentUserSuccess","getCurrentUserError","getAuthenticated","state","isAuthorized","getUserName","user","name","module","exports","getContactsRequest","createAction","getContactsSuccess","getContactsError","addContactsRequest","addContactsSuccess","addContactsError","deleteContactsRequest","deleteContactsSuccess","deleteContactsError","filterContacts","loginError","items","createReducer","action","_","payload","filter","id","contactsReducer","combineReducers","initialUserState","email","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistConfig","key","whitelist","storage","rootReducer","contacts","persistReducer","authUserReducer","store","configureStore","reducer","devTools","process","persistor","persistStore","PrivateRoute","children","redirectTo","routeProps","isAuthenticated","useSelector","authSelectors","to","PublicRoute","isAutorization","restricted","Navigation","className","styles","list","item","exact","routes","nav","activeClassName","active_nav","AuthNav","uuidv4","UserMenu","useDispatch","onLogout","useCallback","authOperations","box","alt","width","height","src","title","button","onClick","icon","AppBar","Container","container","Spiner","class","loader","loader_inner","loader_line_wrap","loader_line","HomePage","lazy","ContactsPage","LoginPage","RegisterPage","App","useEffect","fallback","path","component","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.ead218f8.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport authActions from './auth-actions';\r\n\r\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = accountingData => dispatch => {\r\n  dispatch(authActions.registerRequest());\r\n  axios\r\n    .post('/users/signup', accountingData)\r\n    .then(({ data }) => {\r\n      token.set(data.token);\r\n      return dispatch(authActions.registerSuccess(data));\r\n    })\r\n    .catch(error => dispatch(authActions.registerError(error.message)));\r\n};\r\n\r\nconst logIn = accountingData => dispatch => {\r\n  dispatch(authActions.loginRequest());\r\n  axios\r\n    .post('/users/login', accountingData)\r\n    .then(({ data }) => {\r\n      token.set(data.token);\r\n      return dispatch(authActions.loginSuccess(data));\r\n    })\r\n    .catch(error => dispatch(authActions.logoutError(error.message)));\r\n};\r\nconst logOut = () => dispatch => {\r\n  dispatch(authActions.logoutRequest());\r\n  axios\r\n    .post('/users/logout')\r\n    .then(() => {\r\n      token.unset();\r\n      return dispatch(authActions.logoutSuccess());\r\n    })\r\n    .catch(error => dispatch(authActions.logoutError(error.message)));\r\n};\r\n\r\nconst getCurrentUser = () => (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n  token.set(persistedToken);\r\n  dispatch(authActions.getCurrentUserRequest());\r\n\r\n  axios\r\n    .get('/users/current')\r\n    .then(({ data }) => dispatch(authActions.getCurrentUserSuccess(data)))\r\n    .catch(error => dispatch(authActions.getCurrentUserError(error.message)));\r\n};\r\n\r\nexport default {\r\n  register,\r\n  logIn,\r\n  logOut,\r\n  getCurrentUser,\r\n};\r\n","const getAuthenticated = state => state.auth.isAuthorized;\r\n\r\nconst getUserName = state => state.auth.user.name;\r\nexport default {\r\n  getAuthenticated,\r\n  getUserName,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Spiner_loader__3lJ0M\",\"loader_inner\":\"Spiner_loader_inner__1Wwd1\",\"loader_line_wrap\":\"Spiner_loader_line_wrap__Wb00R\",\"spin\":\"Spiner_spin__3LJaO\",\"loader_line\":\"Spiner_loader_line__1puHk\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst getContactsRequest = createAction('contacts/getContactsRequest');\r\nconst getContactsSuccess = createAction('contacts/getContactsSuccess');\r\nconst getContactsError = createAction('contacts/getContactsError');\r\n\r\nconst addContactsRequest = createAction('contacts/addContactsRequest');\r\nconst addContactsSuccess = createAction('contacts/addContactsSuccess');\r\nconst addContactsError = createAction('contacts/addContactsError');\r\n\r\nconst deleteContactsRequest = createAction('contacts/deleteContactsRequest');\r\nconst deleteContactsSuccess = createAction('contacts/deleteContactsSuccess');\r\nconst deleteContactsError = createAction('contacts/deleteContactsError');\r\n\r\nconst filterContacts = createAction('contacts/Filter');\r\n\r\nexport default {\r\n  getContactsRequest,\r\n  getContactsSuccess,\r\n  getContactsError,\r\n  addContactsRequest,\r\n  addContactsSuccess,\r\n  addContactsError,\r\n  deleteContactsRequest,\r\n  deleteContactsSuccess,\r\n  deleteContactsError,\r\n  filterContacts,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"UserMenu_button__1bA7y\",\"icon\":\"UserMenu_icon__2Xhfy\",\"box\":\"UserMenu_box__38rbA\",\"title\":\"UserMenu_title__3zxlt\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst loginRequest = createAction('auth/loginRequest');\r\nconst loginSuccess = createAction('auth/loginSuccess');\r\nconst loginError = createAction('auth/loginError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\nexport default {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2EA2s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page_register\":\"App_page_register__F20wP\",\"page_logins\":\"App_page_logins__3oUWY\",\"page_home\":\"App_page_home__1spTw\",\"page_contacts\":\"App_page_contacts__2Dsv0\",\"box\":\"App_box__XvIlW\",\"btn_close_modal\":\"App_btn_close_modal__3sV2C\",\"button\":\"App_button__1HSjz\",\"list_filter\":\"App_list_filter__92yF5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"AppBar_list__1Y59c\",\"item\":\"AppBar_item__1qn1I\",\"nav\":\"AppBar_nav__2SNt3\",\"active_nav\":\"AppBar_active_nav__EFLUF\"};","import { createReducer } from '@reduxjs/toolkit';\r\nimport { combineReducers } from 'redux';\r\nimport action from './contacts-actions';\r\n\r\nconst items = createReducer([], {\r\n  [action.getContactsSuccess]: (_, { payload }) => payload,\r\n  [action.addContactsSuccess]: (state, { payload }) => [payload, ...state],\r\n  [action.deleteContactsSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [action.filterContacts]: (_, { payload }) => payload,\r\n});\r\n\r\nconst contactsReducer = combineReducers({\r\n  items,\r\n  filter,\r\n});\r\n\r\nexport default contactsReducer;\r\n","import { createReducer, combineReducers } from '@reduxjs/toolkit';\r\nimport action from './auth-actions';\r\n\r\n// user1\r\n// userTest1@mail.com\r\n//   user1mail\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [action.registerSuccess]: (_, { payload }) => payload.user,\r\n  [action.loginSuccess]: (_, { payload }) => payload.user,\r\n  [action.logoutSuccess]: () => initialUserState,\r\n  [action.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [action.registerSuccess]: (_, { payload }) => payload.token,\r\n  [action.loginSuccess]: (_, { payload }) => payload.token,\r\n  [action.logoutSuccess]: () => null,\r\n});\r\nconst error = createReducer(null, {\r\n  [action.registerError]: (_, { payload }) => payload,\r\n  [action.loginError]: (_, { payload }) => payload,\r\n  [action.logoutError]: (_, { payload }) => payload,\r\n  [action.getCurrentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nconst isAuthorized = createReducer(false, {\r\n  [action.registerSuccess]: () => true,\r\n  [action.loginSuccess]: () => true,\r\n  [action.getCurrentUserSuccess]: () => true,\r\n  [action.logoutSuccess]: () => false,\r\n  [action.registerError]: () => false,\r\n  [action.loginError]: () => false,\r\n  [action.getCurrentUserError]: () => false,\r\n});\r\nexport default combineReducers({\r\n  user,\r\n  token,\r\n  error,\r\n  isAuthorized,\r\n});\r\n","import contactsReducer from './contacts/contacts-reducer';\r\nimport authUserReducer from './auth/auth-reducer';\r\nimport {\r\n  combineReducers,\r\n  configureStore,\r\n  getDefaultMiddleware,\r\n} from '@reduxjs/toolkit';\r\n// import logger from 'redux-logger';\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport {\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  // logger,\r\n];\r\n\r\nconst persistConfig = {\r\n  key: 'token',\r\n  whitelist: ['token'],\r\n  storage,\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  contacts: contactsReducer,\r\n  auth: persistReducer(persistConfig, authUserReducer),\r\n});\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","export default {\r\n  home: '/',\r\n  contacts: '/contacts',\r\n  logins: '/login',\r\n  register: '/register',\r\n};\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PrivateRoute  ({\r\n  children,\r\n  redirectTo,\r\n  ...routeProps\r\n}){\r\n  const  isAuthenticated= useSelector(authSelectors.getAuthenticated);\r\nreturn (<Route  {...routeProps}>{ isAuthenticated ? children : <Redirect to={redirectTo}/> }</Route>)\r\n\r\n} \r\n\r\n\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PublicRoute ({\r\n  children,\r\n  redirectTo,\r\n  ...routeProps\r\n}){\r\n  const isAutorization= useSelector(authSelectors.getAuthenticated);\r\n  return <Route {...routeProps}>{ isAutorization && routeProps.restricted ? (\r\n    <Redirect to={redirectTo} />\r\n  ) : (\r\n    children\r\n  ) }</Route>\r\n}\r\n  \r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { authSelectors } from '../../../redux/auth';\r\nimport routes from '../../../routes/routes';\r\nimport styles from '../AppBar.module.css';\r\n\r\nexport default function Navigation() {\r\n  const isAuthenticated = useSelector(authSelectors.getAuthenticated);\r\n  return (\r\n    <nav>\r\n      <ul className={styles.list}>\r\n        <li className={styles.item}>\r\n          <NavLink\r\n            exact\r\n            to={routes.home}\r\n            className={styles.nav}\r\n            activeClassName={styles.active_nav}\r\n          >\r\n            Home\r\n          </NavLink>\r\n        </li>\r\n        {isAuthenticated && (\r\n          <li className={styles.item}>\r\n            <NavLink\r\n              exact\r\n              to={routes.contacts}\r\n              className={styles.nav}\r\n              activeClassName={styles.active_nav}\r\n            >\r\n              Contacts\r\n            </NavLink>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport routes from '../../../routes/routes';\r\nimport styles from '../AppBar.module.css';\r\n\r\nconst AuthNav = () => {\r\n  return (\r\n    <ul className={styles.list}>\r\n      <li className={styles.item} key={uuidv4()}>\r\n        <NavLink\r\n          to={routes.logins}\r\n          className={styles.nav}\r\n          activeClassName={styles.active_nav}\r\n        >\r\n          Log in\r\n        </NavLink>\r\n      </li>\r\n      <li className={styles.item} key={uuidv4()}>\r\n        <NavLink\r\n          to={routes.register}\r\n          className={styles.nav}\r\n          activeClassName={styles.active_nav}\r\n        >\r\n          Sing up\r\n        </NavLink>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default AuthNav;\r\n","import React, { useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { authOperations, authSelectors } from '../../../redux/auth';\r\nimport styles from './UserMenu.module.css';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const onLogout = useCallback(\r\n    () => dispatch(authOperations.logOut()),[dispatch]\r\n  );\r\n  const name = useSelector(authSelectors.getUserName);\r\n  return (\r\n    <div className={styles.box}>\r\n      <img\r\n        alt=\"avatar\"\r\n        width=\"40px\"\r\n        height=\"auto\"\r\n        src=\"https://ik.imagekit.io/s2fpg15d4rx/kisspng-computer-icons-portable-network-graphics-user-icon-my-b-tab-svg-png-icon-free-download-8-584-onl-5bfa37607f3959.2067798415431248325211_-Xj5AVLFlyoz.png\"\r\n      />\r\n      <p className={styles.title}>Wellcome {name} </p>\r\n      <button className={styles.button} onClick={onLogout}>\r\n        Log off\r\n        <img\r\n          alt=\"logout\"\r\n          className={styles.icon}\r\n          src=\"https://ik.imagekit.io/s2fpg15d4rx/imgbin_web-hosting-icon-logout-icon-arrow-icon-png_8SQmsSuCZ.png\"\r\n        />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../../redux/auth';\r\n\r\nimport Navigation from './Navigation';\r\nimport AuthNav from './AuthNav';\r\nimport UserMenu from './UserMenu';\r\n\r\nimport './AppBar.module.css';\r\n\r\nexport default function AppBar() {\r\n  const isAuthenticated = useSelector(authSelectors.getAuthenticated);\r\n  return (\r\n    <header>\r\n      <Navigation />\r\n      {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styles from './Container.module.css';\r\n\r\n\r\nconst Container = ({ children }) => {\r\n  return <div  className={styles.container}>{children}</div>;\r\n};\r\n\r\nexport default Container;","import React from 'react';\r\nimport styles from './Spiner.module.css';\r\n\r\nconst Spiner = () => {\r\n  return (\r\n    <div class={styles.loader}>\r\n      <div class={styles.loader_inner}>\r\n        <div class={styles.loader_line_wrap}>\r\n          <div class={styles.loader_line}></div>\r\n        </div>\r\n        <div class={styles.loader_line_wrap}>\r\n          <div class={styles.loader_line}></div>\r\n        </div>\r\n        <div class={styles.loader_line_wrap}>\r\n          <div class={styles.loader_line}></div>\r\n        </div>\r\n        <div class={styles.loader_line_wrap}>\r\n          <div class={styles.loader_line}></div>\r\n        </div>\r\n        <div class={styles.loader_line_wrap}>\r\n          <div class={styles.loader_line}></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spiner;\r\n","import React, { lazy, Suspense,  useEffect } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n// ops routes\nimport routes from './routes/routes';\nimport PrivateRoute from './routes/PrivateRoute';\nimport PublicRoute from './routes/PublicRoute';\nimport { authOperations } from './redux/auth';\n// компоненты\nimport AppBar from './components/AppBar';\nimport Container from './components/Container';\nimport Spiner from './components/Spiner';\n\n// стили\n\nimport './App.module.css';\n\n\nconst HomePage = lazy(() =>\n  import('./views/HomeViews' /* webpackChunkName: \"home-page\" */),\n);\nconst ContactsPage = lazy(() =>\n  import('./views/ContactsViews' /* webpackChunkName: \"contacts-page\" */),\n);\nconst LoginPage = lazy(() =>\n  import('./views/LoginViews' /* webpackChunkName: \"login-page\" */),\n);\nconst RegisterPage = lazy(() =>\n  import('./views/RegisterViews' /* webpackChunkName: \"register-page\" */),\n);\n\n\nexport default function  App () {\n  const dispatch = useDispatch();\n \n  useEffect(() => {\n    dispatch(authOperations.getCurrentUser())\n  }, [dispatch])\n\n    return (\n      <>\n        <AppBar />\n        <Container>\n          <Suspense fallback={<Spiner />}>\n            <Switch>\n              <Route path={routes.home} exact component={HomePage} />\n              <PrivateRoute\n                path={routes.contacts}\n                exact\n                redirectTo={routes.logins}\n              ><ContactsPage/></PrivateRoute>\n              <PublicRoute\n                path={routes.logins}\n                redirectTo={routes.contacts}\n                restricted\n              ><LoginPage/></PublicRoute>\n\n              <PublicRoute\n                path={routes.register}\n                redirectTo={routes.contacts}\n                restricted\n              ><RegisterPage/></PublicRoute>\n              <Redirect to={routes.home} />\n            </Switch>\n          </Suspense>\n        </Container>\n      </>\n    );\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport App from './App';\nimport Spiner from './components/Spiner';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={<Spiner />} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}