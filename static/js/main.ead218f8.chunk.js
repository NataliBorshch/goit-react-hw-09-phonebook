(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[3],{12:function(e,t,c){"use strict";c.d(t,"a",(function(){return i})),c.d(t,"b",(function(){return u}));var r=c(3),n=c(19),a=c.n(n);a.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var s=function(e){a.a.defaults.headers.common.Authorization="Bearer ".concat(e)},o=function(){a.a.defaults.headers.common.Authorization=""},i={register:function(e){return function(t){t(r.a.registerRequest()),a.a.post("/users/signup",e).then((function(e){var c=e.data;return s(c.token),t(r.a.registerSuccess(c))})).catch((function(e){return t(r.a.registerError(e.message))}))}},logIn:function(e){return function(t){t(r.a.loginRequest()),a.a.post("/users/login",e).then((function(e){var c=e.data;return s(c.token),t(r.a.loginSuccess(c))})).catch((function(e){return t(r.a.logoutError(e.message))}))}},logOut:function(){return function(e){e(r.a.logoutRequest()),a.a.post("/users/logout").then((function(){return o(),e(r.a.logoutSuccess())})).catch((function(t){return e(r.a.logoutError(t.message))}))}},getCurrentUser:function(){return function(e,t){var c=t().auth.token;c&&(s(c),e(r.a.getCurrentUserRequest()),a.a.get("/users/current").then((function(t){var c=t.data;return e(r.a.getCurrentUserSuccess(c))})).catch((function(t){return e(r.a.getCurrentUserError(t.message))})))}}},u={getAuthenticated:function(e){return e.auth.isAuthorized},getUserName:function(e){return e.auth.user.name}}},15:function(e,t,c){e.exports={loader:"Spiner_loader__3lJ0M",loader_inner:"Spiner_loader_inner__1Wwd1",loader_line_wrap:"Spiner_loader_line_wrap__Wb00R",spin:"Spiner_spin__3LJaO",loader_line:"Spiner_loader_line__1puHk"}},22:function(e,t,c){"use strict";var r=c(2),n=Object(r.b)("contacts/getContactsRequest"),a=Object(r.b)("contacts/getContactsSuccess"),s=Object(r.b)("contacts/getContactsError"),o=Object(r.b)("contacts/addContactsRequest"),i=Object(r.b)("contacts/addContactsSuccess"),u=Object(r.b)("contacts/addContactsError"),l=Object(r.b)("contacts/deleteContactsRequest"),b=Object(r.b)("contacts/deleteContactsSuccess"),j=Object(r.b)("contacts/deleteContactsError"),d=Object(r.b)("contacts/Filter");t.a={getContactsRequest:n,getContactsSuccess:a,getContactsError:s,addContactsRequest:o,addContactsSuccess:i,addContactsError:u,deleteContactsRequest:l,deleteContactsSuccess:b,deleteContactsError:j,filterContacts:d}},25:function(e,t,c){e.exports={button:"UserMenu_button__1bA7y",icon:"UserMenu_icon__2Xhfy",box:"UserMenu_box__38rbA",title:"UserMenu_title__3zxlt"}},3:function(e,t,c){"use strict";var r=c(2),n=Object(r.b)("auth/registerRequest"),a=Object(r.b)("auth/registerSuccess"),s=Object(r.b)("auth/registerError"),o=Object(r.b)("auth/loginRequest"),i=Object(r.b)("auth/loginSuccess"),u=Object(r.b)("auth/loginError"),l=Object(r.b)("auth/logoutRequest"),b=Object(r.b)("auth/logoutSuccess"),j=Object(r.b)("auth/logoutError"),d=Object(r.b)("auth/getCurrentUserRequest"),O=Object(r.b)("auth/getCurrentUserSuccess"),g=Object(r.b)("auth/getCurrentUserError");t.a={registerRequest:n,registerSuccess:a,registerError:s,loginRequest:o,loginSuccess:i,loginError:u,logoutRequest:l,logoutSuccess:b,logoutError:j,getCurrentUserRequest:d,getCurrentUserSuccess:O,getCurrentUserError:g}},49:function(e,t,c){e.exports={container:"Container_container__2EA2s"}},50:function(e,t,c){e.exports={page_register:"App_page_register__F20wP",page_logins:"App_page_logins__3oUWY",page_home:"App_page_home__1spTw",page_contacts:"App_page_contacts__2Dsv0",box:"App_box__XvIlW",btn_close_modal:"App_btn_close_modal__3sV2C",button:"App_button__1HSjz",list_filter:"App_list_filter__92yF5"}},8:function(e,t,c){e.exports={list:"AppBar_list__1Y59c",item:"AppBar_item__1qn1I",nav:"AppBar_nav__2SNt3",active_nav:"AppBar_active_nav__EFLUF"}},81:function(e,t,c){"use strict";c.r(t);var r,n,a,s,o,i=c(0),u=c.n(i),l=c(26),b=c.n(l),j=c(17),d=c(46),O=c(9),g=c(29),_=c(5),h=c(2),p=c(7),f=c(22),x=Object(h.c)([],(r={},Object(_.a)(r,f.a.getContactsSuccess,(function(e,t){return t.payload})),Object(_.a)(r,f.a.addContactsSuccess,(function(e,t){return[t.payload].concat(Object(g.a)(e))})),Object(_.a)(r,f.a.deleteContactsSuccess,(function(e,t){var c=t.payload;return e.filter((function(e){return e.id!==c}))})),r)),v=Object(h.c)("",Object(_.a)({},f.a.filterContacts,(function(e,t){return t.payload}))),m=Object(p.c)({items:x,filter:v}),C=c(3),S={name:null,email:null},E=Object(h.c)(S,(n={},Object(_.a)(n,C.a.registerSuccess,(function(e,t){return t.payload.user})),Object(_.a)(n,C.a.loginSuccess,(function(e,t){return t.payload.user})),Object(_.a)(n,C.a.logoutSuccess,(function(){return S})),Object(_.a)(n,C.a.getCurrentUserSuccess,(function(e,t){return t.payload})),n)),k=Object(h.c)(null,(a={},Object(_.a)(a,C.a.registerSuccess,(function(e,t){return t.payload.token})),Object(_.a)(a,C.a.loginSuccess,(function(e,t){return t.payload.token})),Object(_.a)(a,C.a.logoutSuccess,(function(){return null})),a)),A=Object(h.c)(null,(s={},Object(_.a)(s,C.a.registerError,(function(e,t){return t.payload})),Object(_.a)(s,C.a.loginError,(function(e,t){return t.payload})),Object(_.a)(s,C.a.logoutError,(function(e,t){return t.payload})),Object(_.a)(s,C.a.getCurrentUserError,(function(e,t){return t.payload})),s)),y=Object(h.c)(!1,(o={},Object(_.a)(o,C.a.registerSuccess,(function(){return!0})),Object(_.a)(o,C.a.loginSuccess,(function(){return!0})),Object(_.a)(o,C.a.getCurrentUserSuccess,(function(){return!0})),Object(_.a)(o,C.a.logoutSuccess,(function(){return!1})),Object(_.a)(o,C.a.registerError,(function(){return!1})),Object(_.a)(o,C.a.loginError,(function(){return!1})),Object(_.a)(o,C.a.getCurrentUserError,(function(){return!1})),o)),U=Object(p.c)({user:E,token:k,error:A,isAuthorized:y}),N=c(18),w=c(48),R=c.n(w),q=Object(g.a)(Object(h.d)({serializableCheck:{ignoredActions:[N.a,N.f,N.b,N.c,N.d,N.e]}})),z={key:"token",whitelist:["token"],storage:R.a},T=Object(p.c)({contacts:m,auth:Object(N.g)(z,U)}),F=Object(h.a)({reducer:T,middleware:q,devTools:!1}),B={store:F,persistor:Object(N.h)(F)},L=c(6),M="/",W="/contacts",I="/login",J="/register",H=c(21),X=c(30),V=c(12),Y=c(1);function D(e){var t=e.children,c=e.redirectTo,r=Object(X.a)(e,["children","redirectTo"]),n=Object(O.c)(V.b.getAuthenticated);return Object(Y.jsx)(L.b,Object(H.a)(Object(H.a)({},r),{},{children:n?t:Object(Y.jsx)(L.a,{to:c})}))}function P(e){var t=e.children,c=e.redirectTo,r=Object(X.a)(e,["children","redirectTo"]),n=Object(O.c)(V.b.getAuthenticated);return Object(Y.jsx)(L.b,Object(H.a)(Object(H.a)({},r),{},{children:n&&r.restricted?Object(Y.jsx)(L.a,{to:c}):t}))}var Q=c(8),Z=c.n(Q);function G(){var e=Object(O.c)(V.b.getAuthenticated);return Object(Y.jsx)("nav",{children:Object(Y.jsxs)("ul",{className:Z.a.list,children:[Object(Y.jsx)("li",{className:Z.a.item,children:Object(Y.jsx)(j.b,{exact:!0,to:M,className:Z.a.nav,activeClassName:Z.a.active_nav,children:"Home"})}),e&&Object(Y.jsx)("li",{className:Z.a.item,children:Object(Y.jsx)(j.b,{exact:!0,to:W,className:Z.a.nav,activeClassName:Z.a.active_nav,children:"Contacts"})})]})})}var K=c(83),$=function(){return Object(Y.jsxs)("ul",{className:Z.a.list,children:[Object(Y.jsx)("li",{className:Z.a.item,children:Object(Y.jsx)(j.b,{to:I,className:Z.a.nav,activeClassName:Z.a.active_nav,children:"Log in"})},Object(K.a)()),Object(Y.jsx)("li",{className:Z.a.item,children:Object(Y.jsx)(j.b,{to:J,className:Z.a.nav,activeClassName:Z.a.active_nav,children:"Sing up"})},Object(K.a)())]})},ee=c(25),te=c.n(ee);function ce(){var e=Object(O.b)(),t=Object(i.useCallback)((function(){return e(V.a.logOut())}),[e]),c=Object(O.c)(V.b.getUserName);return Object(Y.jsxs)("div",{className:te.a.box,children:[Object(Y.jsx)("img",{alt:"avatar",width:"40px",height:"auto",src:"https://ik.imagekit.io/s2fpg15d4rx/kisspng-computer-icons-portable-network-graphics-user-icon-my-b-tab-svg-png-icon-free-download-8-584-onl-5bfa37607f3959.2067798415431248325211_-Xj5AVLFlyoz.png"}),Object(Y.jsxs)("p",{className:te.a.title,children:["Wellcome ",c," "]}),Object(Y.jsxs)("button",{className:te.a.button,onClick:t,children:["Log off",Object(Y.jsx)("img",{alt:"logout",className:te.a.icon,src:"https://ik.imagekit.io/s2fpg15d4rx/imgbin_web-hosting-icon-logout-icon-arrow-icon-png_8SQmsSuCZ.png"})]})]})}function re(){var e=Object(O.c)(V.b.getAuthenticated);return Object(Y.jsxs)("header",{children:[Object(Y.jsx)(G,{}),e?Object(Y.jsx)(ce,{}):Object(Y.jsx)($,{})]})}var ne=c(49),ae=c.n(ne),se=function(e){var t=e.children;return Object(Y.jsx)("div",{className:ae.a.container,children:t})},oe=c(15),ie=c.n(oe),ue=function(){return Object(Y.jsx)("div",{class:ie.a.loader,children:Object(Y.jsxs)("div",{class:ie.a.loader_inner,children:[Object(Y.jsx)("div",{class:ie.a.loader_line_wrap,children:Object(Y.jsx)("div",{class:ie.a.loader_line})}),Object(Y.jsx)("div",{class:ie.a.loader_line_wrap,children:Object(Y.jsx)("div",{class:ie.a.loader_line})}),Object(Y.jsx)("div",{class:ie.a.loader_line_wrap,children:Object(Y.jsx)("div",{class:ie.a.loader_line})}),Object(Y.jsx)("div",{class:ie.a.loader_line_wrap,children:Object(Y.jsx)("div",{class:ie.a.loader_line})}),Object(Y.jsx)("div",{class:ie.a.loader_line_wrap,children:Object(Y.jsx)("div",{class:ie.a.loader_line})})]})})},le=(c(50),Object(i.lazy)((function(){return c.e(1).then(c.bind(null,92))}))),be=Object(i.lazy)((function(){return c.e(0).then(c.bind(null,91))})),je=Object(i.lazy)((function(){return c.e(2).then(c.bind(null,93))})),de=Object(i.lazy)((function(){return c.e(4).then(c.bind(null,94))}));function Oe(){var e=Object(O.b)();return Object(i.useEffect)((function(){e(V.a.getCurrentUser())}),[e]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(re,{}),Object(Y.jsx)(se,{children:Object(Y.jsx)(i.Suspense,{fallback:Object(Y.jsx)(ue,{}),children:Object(Y.jsxs)(L.d,{children:[Object(Y.jsx)(L.b,{path:M,exact:!0,component:le}),Object(Y.jsx)(D,{path:W,exact:!0,redirectTo:I,children:Object(Y.jsx)(be,{})}),Object(Y.jsx)(P,{path:I,redirectTo:W,restricted:!0,children:Object(Y.jsx)(je,{})}),Object(Y.jsx)(P,{path:J,redirectTo:W,restricted:!0,children:Object(Y.jsx)(de,{})}),Object(Y.jsx)(L.a,{to:M})]})})})]})}b.a.render(Object(Y.jsx)(u.a.StrictMode,{children:Object(Y.jsx)(O.a,{store:B.store,children:Object(Y.jsx)(d.a,{loading:Object(Y.jsx)(ue,{}),persistor:B.persistor,children:Object(Y.jsx)(j.a,{children:Object(Y.jsx)(Oe,{})})})})}),document.getElementById("root"))}},[[81,5,6]]]);
//# sourceMappingURL=main.ead218f8.chunk.js.map